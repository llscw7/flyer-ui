<template>
	<!-- #ifdef APP -->
	<scroll-view class="container">
	<!-- #endif -->
		<view class="demo-page">
			<!-- é¡µé¢æ ‡é¢˜ -->
			<view class="demo-header">
				<text class="demo-title">Button æŒ‰é’®</text>
				<text class="demo-desc">æŒ‰é’®ç”¨äºè§¦å‘ä¸€ä¸ªæ“ä½œï¼Œå¦‚æäº¤è¡¨å•</text>
			</view>

			<!-- åŸºç¡€ç”¨æ³• -->
			<view class="demo-section">
				<text class="demo-section-title">åŸºç¡€ç”¨æ³•</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button text="é»˜è®¤æŒ‰é’®" @click="handleClick('é»˜è®¤æŒ‰é’®')"></flyer-button>
						<flyer-button type="primary" text="ä¸»è¦æŒ‰é’®" @click="handleClick('ä¸»è¦æŒ‰é’®')"></flyer-button>
					</view>
					<view class="button-row">
						<flyer-button type="success" text="æˆåŠŸæŒ‰é’®" @click="handleClick('æˆåŠŸæŒ‰é’®')"></flyer-button>
						<flyer-button type="warning" text="è­¦å‘ŠæŒ‰é’®" @click="handleClick('è­¦å‘ŠæŒ‰é’®')"></flyer-button>
					</view>
					<view class="button-row">
						<flyer-button type="danger" text="å±é™©æŒ‰é’®" @click="handleClick('å±é™©æŒ‰é’®')"></flyer-button>
						<flyer-button type="info" text="ä¿¡æ¯æŒ‰é’®" @click="handleClick('ä¿¡æ¯æŒ‰é’®')"></flyer-button>
					</view>
				</view>
			</view>

			<!-- æœ´ç´ æŒ‰é’® -->
			<view class="demo-section">
				<text class="demo-section-title">æœ´ç´ æŒ‰é’®</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button plain text="æœ´ç´ æŒ‰é’®" @click="handleClick('æœ´ç´ æŒ‰é’®')"></flyer-button>
						<flyer-button plain type="primary" text="ä¸»è¦æŒ‰é’®" @click="handleClick('æœ´ç´ ä¸»è¦')"></flyer-button>
					</view>
					<view class="button-row">
						<flyer-button plain type="success" text="æˆåŠŸæŒ‰é’®" @click="handleClick('æœ´ç´ æˆåŠŸ')"></flyer-button>
						<flyer-button plain type="warning" text="è­¦å‘ŠæŒ‰é’®" @click="handleClick('æœ´ç´ è­¦å‘Š')"></flyer-button>
					</view>
				</view>
			</view>

			<!-- ç¦ç”¨çŠ¶ï¿½?-->
			<view class="demo-section">
				<text class="demo-section-title">ç¦ç”¨çŠ¶</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button disabled text="ç¦ç”¨æŒ‰é’®"></flyer-button>
						<flyer-button disabled type="primary" text="ä¸»è¦æŒ‰é’®"></flyer-button>
					</view>
					<view class="button-row">
						<flyer-button disabled plain text="æœ´ç´ æŒ‰é’®"></flyer-button>
						<flyer-button disabled plain type="primary" text="ä¸»è¦æŒ‰é’®"></flyer-button>
					</view>
				</view>
			</view>

			<!-- åŠ è½½çŠ¶æ€ -->
			<view class="demo-section">
				<text class="demo-section-title">åŠ è½½çŠ¶æ€</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button loading text="åŠ è½½çŠ¶æ€" @click="handleLoading"></flyer-button>
						<flyer-button :loading="isLoading" type="primary" text="ç‚¹å‡»åŠ è½½" @click="handleLoading"></flyer-button>
					</view>
				</view>
			</view>

			<!-- ä¸åŒå°ºå¯¸ -->
			<view class="demo-section">
				<text class="demo-section-title">ä¸åŒå°ºå¯¸</text>
				<view class="demo-content">
					<view class="button-column">
						<flyer-button size="large" type="primary" text="å¤§å‹æŒ‰é’®" @click="handleClick('å¤§å‹')"></flyer-button>
						<flyer-button size="normal" type="primary" text="æ™®é€šæŒ‰é’®" @click="handleClick('æ™®é€š')"></flyer-button>
						<flyer-button size="small" type="primary" text="å°å‹æŒ‰é’®" @click="handleClick('å°å‹')"></flyer-button>
						<flyer-button size="mini" type="primary" text="è¿·ä½ æŒ‰é’®" @click="handleClick('è¿·ä½ ')"></flyer-button>
					</view>
				</view>
			</view>

			<!-- åœ†è§’æŒ‰é’® -->
			<view class="demo-section">
				<text class="demo-section-title">åœ†è§’æŒ‰é’®</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button round text="åœ†è§’æŒ‰é’®" @click="handleClick('åœ†è§’')"></flyer-button>
						<flyer-button round type="primary" text="ä¸»è¦æŒ‰é’®" @click="handleClick('åœ†è§’ä¸»è¦')"></flyer-button>
					</view>
				</view>
			</view>

			<!-- å—çº§æŒ‰é’® -->
			<view class="demo-section">
				<text class="demo-section-title">å—çº§æŒ‰é’®</text>
				<view class="demo-content">
					<flyer-button block type="primary" text="å—çº§æŒ‰é’®" @click="handleClick('å—çº§')"></flyer-button>
				</view>
			</view>

			<!-- å¸¦å›¾æ ‡çš„æŒ‰é’® -->
			<view class="demo-section">
				<text class="demo-section-title">å¸¦å›¾æ ‡çš„æŒ‰é’®</text>
				<view class="demo-content">
					<view class="button-row">
						<flyer-button icon="ğŸ”" text="æœç´¢" @click="handleClick('æœç´¢')"></flyer-button>
						<flyer-button type="primary" icon="ğŸ“" text="æ–‡ä»¶" @click="handleClick('æ–‡ä»¶')"></flyer-button>
					</view>
				</view>
			</view>
		</view>
	<!-- #ifdef APP -->
	</scroll-view>
	<!-- #endif -->
</template>

<script lang="uts">
	export default {
		data() {
			return {
				// å“åº”å¼æ•°æ®
				isLoading: false as boolean,
				
				// æ¼”ç¤ºæ•°æ®
				buttonTypes: ['default', 'primary', 'success', 'warning', 'danger', 'info'] as string[],
				buttonSizes: ['large', 'normal', 'small', 'mini'] as string[]
			}
		},

		methods: {
			// ç‚¹å‡»å¤„ç†æ–¹æ³•
			handleClick(type: string): void {
				console.log(`ç‚¹å‡»äº†${type}æŒ‰é’®`)
				uni.showToast({
					title: `ç‚¹å‡»äº†${type}`,
					icon: 'none',
					duration: 1500
				})
			},
			
			// åŠ è½½å¤„ç†æ–¹æ³•
			handleLoading(): void {
				if (this.isLoading) return
				
				this.isLoading = true
				
				setTimeout(() => {
					this.isLoading = false
					uni.showToast({
						title: 'åŠ è½½å®Œæˆ',
						icon: 'success',
						duration: 1500
					})
				}, 2000)
			},
			
			// è·å–æŒ‰é’®ç±»å‹ä¸­æ–‡å
			getTypeLabel(type: string): string {
				const typeMap: UTSJSONObject = {
					'default': 'é»˜è®¤æŒ‰é’®',
					'primary': 'ä¸»è¦æŒ‰é’®',
					'success': 'æˆåŠŸæŒ‰é’®',
					'warning': 'è­¦å‘ŠæŒ‰é’®',
					'danger': 'å±é™©æŒ‰é’®',
					'info': 'ä¿¡æ¯æŒ‰é’®'
				}
				return typeMap[type] as string != null ? typeMap[type] as string : type
			},
			
			// è·å–å°ºå¯¸ä¸­æ–‡å
			getSizeLabel(size: string): string {
				const sizeMap: UTSJSONObject = {
					'large': 'å¤§å‹',
					'normal': 'æ™®é€š',
					'small': 'å°å‹',
					'mini': 'è¿·ä½ '
				}
				return sizeMap[size] as string != null ? sizeMap[size] as string : size
			}
		}
	}
</script>

<style>
	.container {
		flex: 1;
	}
	
	.demo-page {
		padding: 20px;
		background-color: #f2f3f5;
	}
	
	.demo-header {
		margin-bottom: 30px;
	}
	
	.demo-title {
		font-size: 24px;
		font-weight: 700;
		color: #333333;
		margin-bottom: 8px;
	}
	
	.demo-desc {
		font-size: 14px;
		color: #909399;
		line-height: 20px;
	}
	
	.demo-section {
		margin-bottom: 30px;
		background-color: #ffffff;
		border-radius: 8px;
		padding: 20px;
	}
	
	.demo-section-title {
		font-size: 16px;
		font-weight: 700;
		color: #333333;
		margin-bottom: 16px;
	}
	
	.demo-content {
		flex-direction: column;
	}
	
	.button-row {
		flex-direction: row;
		flex-wrap: wrap;
		margin-bottom: 16px;
	}
	
	.button-row:last-child {
		margin-bottom: 0;
	}
	
	.button-column {
		flex-direction: column;
	}
	
	.button-column .flyer-button {
		margin-bottom: 12px;
	}
	
	.button-column .flyer-button:last-child {
		margin-bottom: 0;
	}
	
	.button-row .flyer-button {
		margin-right: 12px;
		margin-bottom: 12px;
	}
	
	.button-row .flyer-button:last-child {
		margin-right: 0;
	}
</style>
